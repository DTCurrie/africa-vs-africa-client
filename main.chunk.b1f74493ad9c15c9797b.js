(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,r){t.exports=r("2YZa")},"2YZa":function(t,e,r){"use strict";r.r(e);var n=r("q1tI"),a=r("i8i4"),c=r("Pk8M");r("64fX");function l(){return n.createElement("div",{className:"footer"},"Why? How? Check it out on GitHub:",n.createElement("a",{href:"https://github.com/DTCurrie/africa-vs-africa-client"},n.createElement(c.b,{icon:c.a,size:"small",verticalAlign:"middle"})))}r("nqaz");function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,a=!1,c=void 0;try{for(var l,u=t[Symbol.iterator]();!(n=(l=u.next()).done)&&(r.push(l.value),!e||r.length!==e);n=!0);}catch(t){a=!0,c=t}finally{try{n||null==u.return||u.return()}finally{if(a)throw c}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return t.error?n.createElement("div",{className:"track-error"},t.error):null}function i(t){if(!t.track)return null;var e=function(t){return window.innerWidth<992?"translateX(".concat(t>60?-60:-t,"%)"):"translateY(".concat(t>65?65:t,"%)")},r=u(Object(n.useState)(100),2),a=r[0],c=r[1],l=u(Object(n.useState)({transform:e(a)}),2),o=l[0],i=l[1],s=t.track,f=s.artists[0],m=s.album,d=100-s.popularity;return Object(n.useEffect)(function(){var t;c((1-(t=.0025))*a+t*d),i({transform:e(a)})}),n.createElement("div",{className:"track-content"},n.createElement("div",{className:"track-popularity",style:o},n.createElement("div",{className:"track-info"},n.createElement("a",{href:s.external_urls.spotify},s.name)," by",n.createElement("a",{href:f.external_urls.spotify}," ",s.artists[0].name)," from the album",n.createElement("a",{href:m.external_urls.spotify}," ",m.name)),n.createElement("h1",null,s.popularity),n.createElement("h3",null,"POPULARITY")))}function s(t){var e=u(Object(n.useState)(null),2),r=e[0],a=e[1],c=u(Object(n.useState)(null),2),l=c[0],s=c[1],f="http://localhost:3000/api/track/".concat(t.trackId);function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(t),s(e)}if(f="https://ava.devintcurrie.com/api/track/".concat(t.trackId),Object(n.useEffect)(function(){fetch(f).then(function(t){return t.json().then(function(t){return m(t.body,null)}).catch(function(t){return m(null,t)})}).catch(function(t){return s(t)})},[t.trackId]),null===r&&null===l)return null;t.onLoaded(!0);var d={backgroundImage:"url(".concat(r.album.images[0].url,")")};return n.createElement("div",{className:"track ".concat(t.artist),style:d},n.createElement(o,{error:l}),n.createElement(i,{track:r}))}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,a=!1,c=void 0;try{for(var l,u=t[Symbol.iterator]();!(n=(l=u.next()).done)&&(r.push(l.value),!e||r.length!==e);n=!0);}catch(t){a=!0,c=t}finally{try{n||null==u.return||u.return()}finally{if(a)throw c}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object(a.render)(n.createElement(function(){var t=f(Object(n.useState)(!1),2),e=t[0],r=t[1],a=f(Object(n.useState)(!1),2),c=a[0],u=a[1];return Object(n.useEffect)(function(){e&&c&&document.querySelector(".loader").remove()},[e,c]),n.createElement("div",{className:"app"},n.createElement("div",{className:"tracks"},n.createElement(s,{artist:"toto",trackId:"2374M0fQpWi3dLnB54qaLX",onLoaded:r}),n.createElement(s,{artist:"weezer",trackId:"36Pim2ANczp82lCWIb8GHy",onLoaded:u})),e&&c&&n.createElement(l,null))},null),document.querySelector("#root"))},"64fX":function(t,e,r){},nqaz:function(t,e,r){}},[[0,0,4]]]);
//# sourceMappingURL=main.chunk.b1f74493ad9c15c9797b.js.map