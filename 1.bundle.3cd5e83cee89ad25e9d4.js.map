{"version":3,"sources":["webpack:///./src/components/Footer/Footer.tsx","webpack:///./src/components/Track/Track.tsx","webpack:///./src/index.tsx","webpack:///./src/components/App.tsx","webpack:///./src/components/Footer/Footer.scss?4ebb","webpack:///./src/components/Footer/Footer.scss","webpack:///./src/components/Track/Track.scss","webpack:///./src/components/Track/Track.scss?d645"],"names":["Footer","react","className","href","index_esm","icon","MarkGithub","TrackError","props","error","TrackContent","track","_useState2","_slicedToArray","useState","height","setHeight","_useState4","transform","concat","translate","setTranslate","artist","artists","album","offset","popularity","useEffect","delta","style","external_urls","spotify","name","Track","_useState6","setTrack","_useState8","setError","url","id","setData","data","arguments","length","undefined","err","fetch","then","response","json","body","catch","onLoaded","trackImage","backgroundImage","images","render","App_slicedToArray","totoLoaded","setTotoLoaded","weezerLoaded","setWeezerLoaded","document","querySelector","remove","Track_Track","key","Footer_Footer","content","__webpack_require__","module","i","options","hmr","insertInto","locals","exports","push"],"mappings":"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","file":"1.bundle.3cd5e83cee89ad25e9d4.js","sourcesContent":["import Octicon, { MarkGithub } from \"@githubprimer/octicons-react\";\nimport * as React from \"react\";\nimport { ReactElement } from \"react\";\n\nimport \"./Footer.scss\";\n\nexport function Footer(): ReactElement {\n    return (\n        <div className=\"footer\">\n            Why? How? Check it out on GitHub: <a href=\"#\"><Octicon icon={MarkGithub} /></a>\n        </div>);\n}\n","import * as React from \"react\";\nimport { Dispatch, ReactElement, useEffect, useState } from \"react\";\n\nimport \"./Track.scss\";\n\nfunction TrackError(props: { error: string }): ReactElement {\n    if (!props.error) { return null; }\n    return <div className=\"track-error\">{props.error}</div>;\n}\n\nfunction TrackContent(props: { track: ITrack }): ReactElement {\n    if (!props.track) { return null; }\n\n    interface ITranslate { transform: string; }\n\n    const [ height, setHeight ]: [ number, Dispatch<number> ] = useState(100);\n    const [ translate, setTranslate ]: [ ITranslate, Dispatch<ITranslate> ] = useState({ transform: `translateY(${height}%)` });\n\n    const track = props.track;\n    const artist = track.artists[ 0 ];\n    const album = track.album;\n\n    const offset = 100 - track.popularity;\n    const lerp = (start: number, end: number, delta: number): number => (1 - delta) * start + delta * end;\n\n    useEffect(() => {\n        setHeight(lerp(height, offset, 0.0025));\n        setTranslate({ transform: `translateY(${height}%)` });\n    });\n\n    return (\n        <div className=\"track-content\">\n            <div className=\"track-popularity\" style={translate}>\n                <h3>Popularity: {track.popularity}/100</h3>\n            </div>\n            <div className=\"track-info\">\n                <h1><a href={track.external_urls.spotify}>{track.name}</a></h1>\n                <p>\n                    by <a href={artist.external_urls.spotify}>{track.artists[ 0 ].name}</a> from the album\n                    <a href={album.external_urls.spotify}> {album.name}</a>\n                </p>\n            </div>\n        </div>);\n}\n\nexport function Track(props: { id: string; onLoaded: (loaded: boolean) => void }): ReactElement {\n    const [ track, setTrack ]: [ ITrack, Dispatch<ITrack> ] = useState(null);\n    const [ error, setError ]: [ string, Dispatch<string> ] = useState(null);\n\n    const url = `http://localhost:3000/api/track/${props.id}`;\n    if (process.env.NODE_ENV === \"production\") { /* point ot production url */ }\n\n    function setData(data: ITrack = null, err: string = null): void {\n        setTrack(data);\n        setError(err);\n    }\n\n    useEffect(() => {\n        fetch(url)\n            .then((response: Response) => response.json()\n                .then((data: { body: ITrack }) => setData(data.body, null))\n                .catch((err: string) => setData(null, err)))\n            .catch((err: string) => setError(err));\n    }, [ props.id ]);\n\n    if (track === null && error === null) { return null; }\n\n    props.onLoaded(true);\n\n    const trackImage = {\n        backgroundImage: `url(${track.album.images[ 0 ].url})`,\n    };\n\n    return (\n        <div className=\"track\" style={trackImage}>\n            <TrackError error={error} />\n            <TrackContent track={track} />\n        </div>);\n\n}\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\n\nimport { App } from \"./components/App\";\n\nrender(<App />, document.querySelector(\"#root\"));\n","import * as React from \"react\";\nimport { Dispatch, ReactElement, useEffect, useState } from \"react\";\n\nimport { Footer } from \"./Footer/Footer\";\nimport { Track } from \"./Track/Track\";\n\nexport function App(): ReactElement {\n    const [ totoLoaded, setTotoLoaded ]: [ boolean, Dispatch<boolean> ] = useState(false);\n    const [ weezerLoaded, setWeezerLoaded ]: [ boolean, Dispatch<boolean> ] = useState(false);\n\n    useEffect(() => {\n        if (totoLoaded && weezerLoaded) {\n            const loader = document.querySelector(\".loader\");\n            loader.remove();\n        }\n    }, [ totoLoaded, weezerLoaded ]);\n\n    return (\n        <div className=\"app\">\n            <div className=\"tracks\">\n                <Track key=\"toto\" id=\"2374M0fQpWi3dLnB54qaLX\" onLoaded={setTotoLoaded} />\n                <Track key=\"weezer\" id=\"36Pim2ANczp82lCWIb8GHy\" onLoaded={setWeezerLoaded} />\n            </div>\n            {totoLoaded && weezerLoaded && <Footer />}\n        </div>);\n}\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Footer.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Footer.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Footer.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".footer {\\n  display: flex;\\n  flex: 0 1 auto;\\n  justify-content: center;\\n  padding: 2px 0; }\\n  .footer a {\\n    display: inline-block;\\n    margin-top: -1px;\\n    color: #343a40; }\\n    .footer a:hover {\\n      color: #292d32; }\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".track {\\n  display: flex;\\n  flex: 0 1 auto;\\n  align-items: flex-end;\\n  width: 100%;\\n  height: 100%;\\n  justify-content: center;\\n  background-size: cover;\\n  background-position-x: 50%; }\\n  .track .track-content {\\n    display: flex;\\n    flex: 0 1 auto;\\n    flex-direction: column;\\n    justify-content: flex-end;\\n    width: 100%;\\n    height: 100%;\\n    overflow-y: hidden; }\\n  .track .track-content .track-popularity {\\n    display: flex;\\n    flex: 0 1 auto;\\n    justify-content: center;\\n    background-color: rgba(52, 58, 64, 0.5);\\n    height: 100%;\\n    transform: translateY(100%);\\n    z-index: 1000; }\\n    .track .track-content .track-popularity h3 {\\n      text-align: center;\\n      color: #f8f9fa; }\\n  .track .track-content .track-info {\\n    display: flex;\\n    width: 100%;\\n    flex: 0 1 auto;\\n    justify-content: center;\\n    align-items: baseline;\\n    background-color: #f8f9fa;\\n    z-index: 1050; }\\n    .track .track-content .track-info h1,\\n    .track .track-content .track-info p {\\n      padding: 0 4px; }\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Track.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Track.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Track.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}