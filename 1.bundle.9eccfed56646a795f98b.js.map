{"version":3,"sources":["webpack:///./src/components/Footer/Footer.tsx","webpack:///./src/components/Track/Track.tsx","webpack:///./src/index.tsx","webpack:///./src/components/App.tsx","webpack:///./src/components/Footer/Footer.scss?4ebb","webpack:///./src/components/Footer/Footer.scss","webpack:///./src/components/Track/Track.scss","webpack:///./src/components/Track/Track.scss?d645"],"names":["Footer","react","className","href","index_esm","icon","MarkGithub","TrackError","props","error","TrackContent","track","calculateTransform","value","window","innerWidth","concat","_useState2","_slicedToArray","useState","popularity","setPopularity","_useState4","transform","translate","setTranslate","artist","artists","album","offset","useEffect","delta","style","external_urls","spotify","name","Track","_useState6","setTrack","_useState8","setError","url","trackId","setData","data","arguments","length","undefined","err","fetch","then","response","json","body","catch","onLoaded","trackImage","backgroundImage","images","render","App_slicedToArray","totoLoaded","setTotoLoaded","weezerLoaded","setWeezerLoaded","document","querySelector","remove","Track_Track","Footer_Footer","content","__webpack_require__","module","i","options","hmr","insertInto","locals","exports","push"],"mappings":"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","file":"1.bundle.9eccfed56646a795f98b.js","sourcesContent":["import Octicon, { MarkGithub } from \"@githubprimer/octicons-react\";\nimport * as React from \"react\";\nimport { ReactElement } from \"react\";\n\nimport \"./Footer.scss\";\n\nexport function Footer(): ReactElement {\n    return (\n        <div className=\"footer\">\n            Why? How? Check it out on GitHub: <a href=\"#\"><Octicon icon={MarkGithub} /></a>\n        </div>);\n}\n","import * as React from \"react\";\nimport { useEffect, useState, Dispatch, ReactElement } from \"react\";\n\nimport \"./Track.scss\";\n\ninterface TrackProps { artist: string; trackId: string; onLoaded: (loaded: boolean) => void; }\ninterface Translate { transform: string; }\n\nfunction TrackError(props: { error: string }): ReactElement {\n    if (!props.error) { return null; }\n    return <div className=\"track-error\">{props.error}</div>;\n}\n\nfunction TrackContent(props: { track: Track }): ReactElement {\n    if (!props.track) { return null; }\n\n    const calculateTransform = (value: number): string =>\n        window.innerWidth < 992 ? `translateX(${value > 60 ? -60 : -value}%)` : `translateY(${value > 65 ? 65 : value}%)`;\n\n    const [ popularity, setPopularity ]: [ number, Dispatch<number> ] = useState(100);\n    const [ translate, setTranslate ]: [ Translate, Dispatch<Translate> ] = useState({ transform: calculateTransform(popularity) });\n\n    const track = props.track;\n    const artist = track.artists[ 0 ];\n    const album = track.album;\n\n    const offset = 100 - track.popularity;\n\n    const lerp = (start: number, end: number, delta: number): number => (1 - delta) * start + delta * end;\n\n    useEffect(() => {\n        setPopularity(lerp(popularity, offset, 0.0025));\n        setTranslate({ transform: calculateTransform(popularity) });\n    });\n\n    return (\n        <div className=\"track-content\">\n            <div className=\"track-popularity\" style={translate}>\n                <div className=\"track-info\">\n                    <a href={track.external_urls.spotify}>{track.name}</a> by\n                    <a href={artist.external_urls.spotify}> {track.artists[ 0 ].name}</a> from the album\n                    <a href={album.external_urls.spotify}> {album.name}</a>\n                </div>\n                <h1>{track.popularity}</h1>\n                <h3>POPULARITY</h3>\n            </div>\n        </div>);\n}\n\nexport function Track(props: TrackProps): ReactElement {\n    const [ track, setTrack ]: [ Track, Dispatch<Track> ] = useState(null);\n    const [ error, setError ]: [ string, Dispatch<string> ] = useState(null);\n\n    let url = `http://localhost:3000/api/track/${props.trackId}`;\n    if (process.env.NODE_ENV === \"production\") { url = `http://ava.devintcurrie.com/api/track/${props.trackId}`; }\n\n    function setData(data: Track = null, err: string = null): void {\n        setTrack(data);\n        setError(err);\n    }\n\n    useEffect(() => {\n        fetch(url)\n            .then((response: Response) => response.json()\n                .then((data: { body: Track }) => setData(data.body, null))\n                .catch((err: string) => setData(null, err)))\n            .catch((err: string) => setError(err));\n    }, [ props.trackId ]);\n\n    if (track === null && error === null) { return null; }\n\n    props.onLoaded(true);\n\n    const trackImage = {\n        backgroundImage: `url(${track.album.images[ 0 ].url})`,\n    };\n\n    return (\n        <div className={`track ${props.artist}`} style={trackImage}>\n            <TrackError error={error} />\n            <TrackContent track={track} />\n        </div>);\n\n}\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\n\nimport { App } from \"./components/App\";\n\nrender(<App />, document.querySelector(\"#root\"));\n","import * as React from \"react\";\nimport { useEffect, useState, Dispatch, ReactElement } from \"react\";\n\nimport { Footer } from \"./Footer/Footer\";\nimport { Track } from \"./Track/Track\";\n\nexport function App(): ReactElement {\n    const [ totoLoaded, setTotoLoaded ]: [ boolean, Dispatch<boolean> ] = useState(false);\n    const [ weezerLoaded, setWeezerLoaded ]: [ boolean, Dispatch<boolean> ] = useState(false);\n\n    useEffect(() => {\n        if (totoLoaded && weezerLoaded) {\n            const loader = document.querySelector(\".loader\");\n            loader.remove();\n        }\n    }, [ totoLoaded, weezerLoaded ]);\n\n    return (\n        <div className=\"app\">\n            <div className=\"tracks\">\n                <Track artist=\"toto\" trackId=\"2374M0fQpWi3dLnB54qaLX\" onLoaded={setTotoLoaded} />\n                <Track artist=\"weezer\" trackId=\"36Pim2ANczp82lCWIb8GHy\" onLoaded={setWeezerLoaded} />\n            </div>\n            {totoLoaded && weezerLoaded && <Footer />}\n        </div>);\n}\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Footer.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Footer.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Footer.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".footer {\\n  display: flex;\\n  flex: 0 1 auto;\\n  justify-content: center;\\n  padding: 2px 0; }\\n  .footer a {\\n    display: inline-block;\\n    margin-top: -1px;\\n    color: #343a40; }\\n    .footer a:hover {\\n      color: #292d32; }\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".track {\\n  display: flex;\\n  flex: 0 1 auto;\\n  align-items: flex-end;\\n  width: 100%;\\n  height: 100%;\\n  justify-content: center;\\n  background-size: cover;\\n  background-position-x: 50%; }\\n  .track .track-content {\\n    display: flex;\\n    flex: 0 1 auto;\\n    flex-direction: column;\\n    justify-content: flex-end;\\n    width: 100%;\\n    height: 100%;\\n    overflow: hidden; }\\n  .track .track-content .track-popularity {\\n    display: flex;\\n    flex: 0 1 auto;\\n    flex-direction: column;\\n    align-items: flex-end;\\n    justify-content: center;\\n    height: 100%;\\n    transform: translateX(-100%);\\n    color: #f8f9fa;\\n    z-index: 1000; }\\n    .track .track-content .track-popularity h3 {\\n      padding-right: 1rem;\\n      font-size: 80%;\\n      text-align: right; }\\n    .track .track-content .track-popularity h1 {\\n      font-size: 10rem;\\n      line-height: 8rem; }\\n    @media (min-width: 992px) {\\n      .track .track-content .track-popularity {\\n        align-items: center;\\n        justify-content: flex-start;\\n        transform: translateY(100%); }\\n        .track .track-content .track-popularity h3 {\\n          padding-right: 0;\\n          font-size: 100%; }\\n        .track .track-content .track-popularity h1 {\\n          font-size: 14rem;\\n          line-height: 10rem; } }\\n  .track .track-content .track-popularity .track-info {\\n    display: inline-block;\\n    max-width: 10rem;\\n    padding-right: 1rem;\\n    background-color: transparent;\\n    font-size: 0.8rem;\\n    z-index: 1050; }\\n    .track .track-content .track-popularity .track-info a {\\n      color: #f8f9fa;\\n      font-weight: bold; }\\n    @media (min-width: 992px) {\\n      .track .track-content .track-popularity .track-info {\\n        max-width: 100%;\\n        padding-right: 0; } }\\n  .track.toto .track-content .track-popularity {\\n    background-color: #9c1425cc; }\\n  .track.weezer .track-content .track-popularity {\\n    background-color: #35481fcc; }\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Track.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Track.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./Track.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}